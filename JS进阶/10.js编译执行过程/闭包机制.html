<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    var n = 5;
    function fn() {
      var num = 3;
      return function() {
        var n = 0;
        console.log(++n);
        console.log(++num);
      }
    }

    var fn1 = fn();
    fn1(); // 1 4
    fn1(); // 1 5

    // 匿名函数内部引用着 fn 里的变量num，所以变量 num 无法被销毁
    // 而变量 n 是每次被调用时新创建的，所以每次 fn1 执行完后它就把属于自己的变量连同自己一起销毁,最后就剩下孤零零的num
    // 由此可见闭包函数中的变量不会被垃圾回收，这里就产生了内存消耗的问题
  </script>
</body>
</html>