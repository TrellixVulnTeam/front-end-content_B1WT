# 定位

视觉格式化模型，大体上将页面中盒子的排列分为三种方式：

1. 常规流
2. 浮动：float
3. 定位：position

定位：手动控制元素在包含块中的精准位置

涉及的CSS属性：position

- static: 默认值，静态定位（不定位）
- relative: 相对定位
- absolute: 绝对定位
- fixed: 固定定位
- sticky: 粘性定位

一个元素只要 position 的取值不是 static，就认为该元素是一个定位元素
定位元素不会对其他元素的位置产生影响，因此元素之间可能产生重叠(可用 z-index 属性调整重叠顺序)
定位元素会脱离常规流（**相对定位除外**）
**绝对定位和固定定位时，同时设置 left 和 right 可隐式地改变宽度，同时设置 top 和 bottom 可隐式地改变高度**

一个脱离了常规流的元素：

1. 常规流中的元素摆放位置时，会忽略脱离了常规流的元素。
2. 常规流中的元素计算自动高度时，会忽略脱离了常规流中的元素。

## 相对定位

不会导致元素脱离常规流，只是相对于默认位置(即非定位的正常位置)进行偏移。
可以通过四个CSS属性设置其位置：

- left
- right
- top
- bottom
盒子的偏移不会对其他元素造成任何影响,自身的区域也不会改变
主要用于为绝对定位提供包含块。

## 绝对定位

相对于第一个有定位属性的祖先元素进行偏移(若祖先元素都没有定位属性，则相对于根元素html)

1. 盒模型宽高为auto，适应内容。
2. 包含块变化：找祖先元素中第一个定位元素，该元素的填充盒为其包含块。若找不到，则它的包含块为整个网页（初始化包含块）。
主要用于元素重叠。

## 固定定位

包含块与绝对定位包含块不同：
固定为视口（浏览器的可视窗口）。

其他情况和绝对定位完全一样。

## 定位下的居中

某个方向上居中：

1. 定宽（高）
2. 将左右（上下）距离设置为0
3. 将左右（上下）margin设置为auto
绝对定位和固定定位中，margin为auto时会自动填充剩余空间。

## 多个定位元素重叠时

堆叠上下文（不常用）

设置z-index，通常情况下，该值越大越靠近用户。
只有定位元素设置z-index有效。
z-index可以是负数，如果是负数，则遇到常规流、浮动元素会被其覆盖。

## 补充

- 绝对定位、固定定位元素一定是块盒。
- 绝对定位、固定定位元素一定不是浮动元素。
- 没有外边距合并。
