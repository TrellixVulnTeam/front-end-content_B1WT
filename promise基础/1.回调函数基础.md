# 回调函数 基础

## 回调函数的分类

- 同步回调： 立即执行，完全执行完了才会结束，不会放入回调队列中
    例子： 数组遍历相关的回调函数 / promise 的 excutor 函数
    const arr = [1,3,5]
    arr.forEach(item => {
        console.log(item)
    })
    console.log('forEach()之后执行')
    // 打印结果：1 3 5 'forEach()之后执行'

- 异步回调： 不会立即执行，会放入回调队列中将来执行
    例子： 定时器回调 / ajax 回调 / promise 的成功|失败的回调
    setTimeout(() => {
        console.log('定时器的回调')
    },0)
    console.log('定时器之后执行')
    // 打印结果：'定时器之后执行'  '定时器的回调'

## 宏队列和微队列

JS中用来存储待执行的回调函数的队列包含两个不同的特定队列：宏队列和微队列

宏队列里用来存储： dom 事件回调、ajax 回调、定时器回调
微队列里用来存储： promise 回调、MutationObserver 回调（HTML5 新对象，观察标签的变化）

JS 执行时会区别这两个队列：

1. JS 引擎首先必须先执行所有的初始化同步任务代码
2. 每次准备取出一个宏任务执行前，都要将所有的微任务一个个取出来执行

不同种类的回调函数，微队列中的先执行。同种类的回调函数，谁在前面谁先执行
