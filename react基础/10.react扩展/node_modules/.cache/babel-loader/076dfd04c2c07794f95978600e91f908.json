{"ast":null,"code":"var _jsxFileName = \"D:\\\\VSCode\\\\\\u524D\\u7AEF\\u5185\\u5BB9\\\\react\\u57FA\\u7840\\\\7.react-staging\\\\src\\\\components\\\\List\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport PubSub from 'pubsub-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass List extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      // 初始值为数组\n      isFirst: true,\n      // 是否为第一次打开页面\n      isLoading: false,\n      // 标识是否处于加载中\n      err: '' // 存储请求相关的错误信息\n\n    };\n  }\n\n  // 组件挂载后就订阅消息\n  componentDidMount() {\n    this.token = PubSub.subscribe('changeState', (msg, newState) => {\n      this.setState(newState);\n    });\n  }\n\n  componentWillUnmount() {\n    PubSub.unsubscribe(this.token);\n  }\n\n  render() {\n    const {\n      users,\n      isFirst,\n      isLoading,\n      err\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isFirst ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u8F93\\u5165\\u5173\\u952E\\u5B57\\u540E\\u70B9\\u51FB\\u641C\\u7D22\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }, this) : isLoading ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u641C\\u7D22\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 23\n      }, this) : err ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: 'red'\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this) : users.map(user => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'inline'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: user.html_url,\n            rel: \"noreferrer\",\n            target: \"_blank\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: user.avatar_url,\n              alt: \"avatar\",\n              style: {\n                width: '100px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: user.login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 17\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default List;","map":{"version":3,"sources":["D:/VSCode/前端内容/react基础/7.react-staging/src/components/List/index.jsx"],"names":["React","Component","PubSub","List","state","users","isFirst","isLoading","err","componentDidMount","token","subscribe","msg","newState","setState","componentWillUnmount","unsubscribe","render","color","map","user","display","html_url","avatar_url","width","login","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,WAAnB;;;AAEA,MAAMC,IAAN,SAAmBF,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAE3BG,KAF2B,GAEnB;AACNC,MAAAA,KAAK,EAAE,EADD;AACK;AACXC,MAAAA,OAAO,EAAE,IAFH;AAES;AACfC,MAAAA,SAAS,EAAE,KAHL;AAGY;AAClBC,MAAAA,GAAG,EAAE,EAJC,CAIE;;AAJF,KAFmB;AAAA;;AAS3B;AACAC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,KAAL,GAAaR,MAAM,CAACS,SAAP,CAAiB,aAAjB,EAAgC,CAACC,GAAD,EAAMC,QAAN,KAAmB;AAC9D,WAAKC,QAAL,CAAcD,QAAd;AACD,KAFY,CAAb;AAGD;;AAEDE,EAAAA,oBAAoB,GAAG;AACrBb,IAAAA,MAAM,CAACc,WAAP,CAAmB,KAAKN,KAAxB;AACD;;AAEDO,EAAAA,MAAM,GAAG;AACP,UAAM;AAACZ,MAAAA,KAAD;AAAQC,MAAAA,OAAR;AAAiBC,MAAAA,SAAjB;AAA4BC,MAAAA;AAA5B,QAAmC,KAAKJ,KAA9C;AACA,wBACE;AAAA,gBAEIE,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAH,GACPC,SAAS,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAH,GACTC,GAAG,gBAAG;AAAI,QAAA,KAAK,EAAE;AAACU,UAAAA,KAAK,EAAE;AAAR,SAAX;AAAA,kBAA4BV;AAA5B;AAAA;AAAA;AAAA;AAAA,cAAH,GACHH,KAAK,CAACc,GAAN,CAAUC,IAAI,IAAI;AAChB,4BACE;AAAmB,UAAA,KAAK,EAAE;AAACC,YAAAA,OAAO,EAAE;AAAV,WAA1B;AAAA,kCACE;AAAG,YAAA,IAAI,EAAED,IAAI,CAACE,QAAd;AAAwB,YAAA,GAAG,EAAC,YAA5B;AAAyC,YAAA,MAAM,EAAC,QAAhD;AAAA,mCACE;AAAK,cAAA,GAAG,EAAEF,IAAI,CAACG,UAAf;AAA2B,cAAA,GAAG,EAAC,QAA/B;AAAwC,cAAA,KAAK,EAAE;AAACC,gBAAAA,KAAK,EAAE;AAAR;AAA/C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAA,sBAAIJ,IAAI,CAACK;AAAT;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA,WAAUL,IAAI,CAACM,EAAf;AAAA;AAAA;AAAA;AAAA,gBADF;AAQD,OATD;AALJ;AAAA;AAAA;AAAA;AAAA,YADF;AAmBD;;AAzC0B;;AA4C7B,eAAevB,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport PubSub from 'pubsub-js';\r\n\r\nclass List extends Component {\r\n\r\n  state = {\r\n    users: [], // 初始值为数组\r\n    isFirst: true, // 是否为第一次打开页面\r\n    isLoading: false, // 标识是否处于加载中\r\n    err: '' // 存储请求相关的错误信息\r\n  }\r\n\r\n  // 组件挂载后就订阅消息\r\n  componentDidMount() {\r\n    this.token = PubSub.subscribe('changeState', (msg, newState) => {\r\n      this.setState(newState);\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    PubSub.unsubscribe(this.token);\r\n  }\r\n\r\n  render() {\r\n    const {users, isFirst, isLoading, err} = this.state;\r\n    return (\r\n      <div>\r\n        {\r\n          isFirst ? <h2>输入关键字后点击搜索</h2> : \r\n          isLoading ? <h2>搜索中...</h2> :\r\n          err ? <h2 style={{color: 'red'}}>{err}</h2> : \r\n          users.map(user => {\r\n            return (\r\n              <div key={user.id} style={{display: 'inline'}}>\r\n                <a href={user.html_url} rel=\"noreferrer\" target=\"_blank\">\r\n                  <img src={user.avatar_url} alt=\"avatar\" style={{width: '100px'}} />\r\n                </a>\r\n                <p>{user.login}</p>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default List;"]},"metadata":{},"sourceType":"module"}