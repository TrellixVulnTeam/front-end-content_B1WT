# react 组件核心

## state

state 是组件对象最重要的属性，值是一个对象
组件被称为“状态机”，通过更新组建的 state 来更新对应的页面显示

1. 组件中 render 方法中的 this 为组件实例对象
2. 组件自定义方法中 this 为 undefined，如何解决？
    1. 强制绑定this：通过函数对象的 bind()
    2. 箭头函数
3. 状态数据不能直接修改，需要调用 setState 方法来修改

## props

每个组件对象都会有 props属性，组件标签的所有属性都保存在 props 中
可从组件外向组件内传递变化的数据
**注意：组件内部不能修改 props 数据**

1. 批量传递: {...p}
2. 类型限制及设置默认值: propTypes
3. props 简写：通过 static 关键字将 propTypes 写在类的内部
4. 函数式组件只能使用 props，无法使用 state 和 refs【新版react可以通过 hooks 让函数式组件使用 state】

## refs

有三种定义 ref 的方法：

1. 字符串形式定义（最简单的一种，但是目前快被废弃了，因为存在效率上的问题，能避免使用尽量避免使用）
2. 回调函数形式定义（虽然用内联函数定义会在更新时执行两次，但不会产生什么影响）
3. 用 React.createRef() 方法定义（最麻烦的一种，但是官方最推荐，每个容器只能存放一个节点）
