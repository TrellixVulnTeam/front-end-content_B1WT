# 进程和线程

- 进程：资源（CPU、内存等）分配的基本单位，它是程序执行时的一个实例
程序运行时系统就会创建一个进程，并为它分配资源，当位它分配到 CPU 时间时程序真正开始执行

- 线程：是程序执行时的最小单位，它是进程的一个执行流，是 CPU调度 的基本单位
一个进程可以由很多个线程组成，线程间共享进程的所有资源，每个线程有自己的堆栈和局部变量
线程由 CPU 独立调度执行，在多CPU环境下就允许多个线程同时运行

- 单线程：一个线程来执行程序。JS是单线程的
- 多线程：多个线程来执行程序，现在的主流一般是多线程

## 线程优点和缺点

优点：

1. 一个进程中可同时存在多个线程
2. 各线程之间可以并发执行
3. 各线程之间可共享资源

缺点：一个线程崩溃，则该进程中所有线程崩溃

## 进程和线程的区别

1. 进程是资源分配的基本单位，线程是程序执行的基本单位
2. 进程有独立的地址空间，每启动一个进程系统就会为它分配一个地址空间
线程之间是共享资源和数据的，使用相同的地址空间，CPU 切换一个线程花费比进程小得多，且创建一个线程的开销也比进程小得多
3. 线程之间共享全局变量、静态变量等数据，所以线程间通信更方便
程序执行时，每个线程分配一个栈，每个进程分配一个堆。也就是说，栈是线程独占的，堆是线程共用的
4. 线程拥有相同的地址空间，故一个线程崩溃了所有线程一起崩溃
而进程拥有独立的地址空间，一个进程崩了不会影响到其他进程

## 虚拟内存和物理内存

物理内存：计算机内存条上的实际存储容量大小
虚拟内存：是计算机系统内存管理的一种技术。它让每个进程认为自己具有连续可用的一段内存，而实际上，它是映射到多个物理内存碎片

每开启一个进程，系统就会为它分配一块独立的内存空间，这个内存空间实际上就是虚拟内存，且建立好了虚拟内存和磁盘文件之间的映射
