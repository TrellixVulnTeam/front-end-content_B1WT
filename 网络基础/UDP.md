# UDP

UDP 协议是面向无连接的，也就是说不需要在正式传递数据之前先连接起双方
UDP 协议只是数据报文的搬运工，不保证有序且不丢失的传递到对端，并且 UDP 协议也没有任何控制流量的算法

## 不可靠性

不可靠性体现在无连接上，发送数据也不会关心对方是否已经正确接收到数据了
当网络环境不好时，因为 UDP 没有拥塞控制，一直会以恒定的速度发送数据，所以很可能导致数据丢包

## UDP 报文格式

UDP 数据报文分为两部分：UDP首部 和 用户数据，其中首部只有 8 字节
用户数据：

1. 源端口号：长度为 16 位（2字节），指明发送数据的进程的端口号
2. 目的端口号：长度为 16 位（2字节），指明目的主机接收数据的进程的端口号
3. 长度：长度为16位（2字节），该字段值为 udp报头 和 数据 两部分的总字节数
4. 检验和：长度为16位（2字节），该字段是 udp报头 和数据 的所有检验和。对报文中每个16位（2字节）进行二进制反码的求和。由发送端计算和存储，由接收端校验
5. 数据

## 高效

因为 UDP 不用建立连接，且无需保证数据不丢失且有序到达，所以 UDP 首部内容很小，只有八字节，因此 UDP 传输数据很高效

## 应用场景

一般用在即时通信，对响应速度要求高的场景
直播：对于直播来说，用户肯定关注的是最新的画面，而不是因为网络条件差而丢失的老旧画面
游戏(王者荣耀)：对于这类实时性要求很高的游戏来说，若因为用户网络条件不好就造成页面卡顿然后再传输旧的游戏画面是无法接受的

## TCP 应用场景

对数据准确性要求较高，速度可以相对较慢
比如文件的传输、邮件的发送与接收等
